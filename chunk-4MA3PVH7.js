import{m as O,o as S}from"./chunk-L6VBQUUE.js";import{a as k,b as M}from"./chunk-4HSR7QBC.js";import{$a as _,Aa as h,Fa as g,Ka as f,N as s,Ra as u,S as l,Ua as o,Va as r,Wa as C,Xa as x,Ya as v,Z as p,Za as b,_ as m,_a as d,ab as c,wa as a,wb as y,xb as w}from"./chunk-S35MFYL3.js";var I=(()=>{class e{constructor(t){this.http=t,this.apiUrl=`${S.apiUrl}/candidate`}getCandidates(){return this.http.get(this.apiUrl)}getCandidateById(t){return this.http.get(`${this.apiUrl}/${t}`)}addCandidate(t){return this.http.post(this.apiUrl,t)}deleteCandidate(t){return this.http.delete(`${this.apiUrl}/${t}`)}updateCandidate(t){let i=localStorage.getItem("token"),n=new k({Authorization:`Bearer ${i}`});return this.http.put(`${this.apiUrl}/vote/${t}`,{},{headers:n})}static{this.\u0275fac=function(i){return new(i||e)(l(M))}}static{this.\u0275prov=s({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function U(e,P){if(e&1){let t=x();o(0,"li",6),v("click",function(){let n=p(t).index,$=b();return m($.vote(n))}),o(1,"h3",7),d(2),r(),o(3,"p",8),d(4),r(),o(5,"p",8),d(6),r(),o(7,"p",8),d(8),r()()}if(e&2){let t=P.$implicit;a(2),_(t.name),a(2),c("Party: ",t.party,""),a(2),c("Age: ",t.age,""),a(2),c("Votes: ",t.voteCount,"")}}var A=(()=>{class e{constructor(t){this.candidateService=t,this.candidates=[]}ngOnInit(){this.fetchCandidates()}fetchCandidates(){this.candidateService.getCandidates().subscribe(t=>{this.candidates=t,console.log("this.candidates === ",this.candidates)},t=>{console.error("Error fetching candidates:",t)})}vote(t){let i=this.candidates[t];console.log("candidate === ",i.voteCount),this.candidateService.updateCandidate(i._id).subscribe(n=>{alert(n.message),this.fetchCandidates()},n=>{alert(n.message),console.error("Error updating vote count:",n)})}static{this.\u0275fac=function(i){return new(i||e)(h(I))}}static{this.\u0275cmp=g({type:e,selectors:[["app-candidate-list"]],decls:7,vars:1,consts:[[1,"green","scroll-watcher"],[1,"flex","justify-center","items-center","min-h-screen"],[1,"candidate-list","bg-white","rounded-lg","p-6","shadow-lg","w-1/2"],[1,"text-2xl","font-bold","mb-4","text-center"],[1,"space-y-4"],["class","p-4 my-3 border rounded-lg d-link hover:bg-green-200",3,"click",4,"ngFor","ngForOf"],[1,"p-4","my-3","border","rounded-lg","d-link","hover:bg-green-200",3,"click"],[1,"text-xl","font-semibold"],[1,"text-gray-700"]],template:function(i,n){i&1&&(C(0,"div",0),o(1,"div",1)(2,"div",2)(3,"h2",3),d(4,"Candidate List"),r(),o(5,"ul",4),f(6,U,9,4,"li",5),r()()()),i&2&&(a(6),u("ngForOf",n.candidates))},dependencies:[w,y,O],styles:[".card[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:5px;padding:15px;margin:10px 0;transition:box-shadow .3s}.card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0003}.card-title[_ngcontent-%COMP%]{font-size:1.5em;font-weight:700}.card-party[_ngcontent-%COMP%]{color:#007bff;font-style:italic}.card-age[_ngcontent-%COMP%]{color:#555}.vote-button[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none;border-radius:5px;padding:10px 15px;cursor:pointer;transition:background-color .3s}.vote-button[_ngcontent-%COMP%]:hover{background-color:#218838}.scroll-watcher[_ngcontent-%COMP%]{height:10px;position:fixed;top:0;z-index:1000;background-color:#0f0;width:100%;scale:0 1;transform-origin:left;animation:_ngcontent-%COMP%_scroll-watcher linear;animation-timeline:scroll()}@keyframes _ngcontent-%COMP%_scroll-watcher{to{scale:1 1}}"]})}}return e})();export{A as a};
